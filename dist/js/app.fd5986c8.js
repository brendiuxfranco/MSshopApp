(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],d=0,v=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&v.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(v.length)v.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("NavBar"),r("v-content",{staticClass:"mt-4"},[r("router-view")],1)],1)},i=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app-bar",{attrs:{app:"",color:"red",dark:""}},[r("v-toolbar-title",{staticClass:"font-weight-light"},[r("v-btn",{staticClass:"text-none font-weight-light headline",attrs:{text:""},on:{click:function(e){return t.$router.push("/")}}},[r("span",[t._v("MS")]),r("span",{staticClass:"font-weight-regular"},[t._v("Shop")])])],1),r("v-spacer"),t.user?r("div",[r("v-menu",{attrs:{bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{text:""}},n),[r("span",{staticClass:"mr-2"},[t._v(t._s(t.user.displayName))]),r("v-icon",[t._v("mdi-menu-down")])],1),r("v-badge",{attrs:{color:"error",overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[t._v(t._s(t.cart.items.length))]},proxy:!0}],null,!0)},[r("v-btn",{attrs:{text:""},on:{click:function(e){return t.$router.push("/cart")}}},[r("v-icon",[t._v("mdi-cart")])],1)],1)]}}])},[r("v-list",[r("v-list-item",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",text:"",to:"/myorders"}},[t._v("My Orders")])],1)],1),r("v-list-item",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",text:"",to:"/cart"}},[t._v("Cart")])],1)],1),t.user.roles&&t.user.roles.admin?r("v-list-item",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",text:"",to:"/inventory"}},[t._v("Inventory")])],1)],1):t._e(),r("v-list-item",[r("v-list-item-title",[r("v-btn",{attrs:{block:"",text:""},on:{click:t.logOut}},[t._v("Logout")])],1)],1)],1)],1)],1):r("v-btn",{attrs:{to:"/login",text:""}},[r("span",{staticClass:"mr-2"},[t._v("Login")])])],1)},o=[],c=(r("96cf"),r("1da1")),u=r("5530"),l=r("2f62"),d={name:"NavBar",data:function(){return{cart:{}}},computed:Object(u["a"])({},Object(l["c"])({user:"getUser"})),methods:Object(u["a"])({logOut:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$firebase.auth().signOut();case 2:t.setUser(""),t.$router.push("/");case 4:case"end":return e.stop()}}),e)})))()}},Object(l["b"])(["setUser"]))},v=d,p=r("2877"),m=r("6544"),f=r.n(m),b=r("40dc"),h=r("4ca6"),g=r("8336"),x=r("132d"),w=r("8860"),_=r("da13"),V=r("5d23"),y=r("e449"),C=r("2fa4"),O=r("2a7f"),k=Object(p["a"])(v,s,o,!1,null,null,null),P=k.exports;f()(k,{VAppBar:b["a"],VBadge:h["a"],VBtn:g["a"],VIcon:x["a"],VList:w["a"],VListItem:_["a"],VListItemTitle:V["d"],VMenu:y["a"],VSpacer:C["a"],VToolbarTitle:O["a"]});var j={name:"App",components:{NavBar:P}},$=j,R=r("7496"),I=r("a75b"),S=Object(p["a"])($,a,i,!1,null,null,null),L=S.exports;f()(S,{VApp:R["a"],VContent:I["a"]});r("45fc");var q=r("8c4f"),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("h1",[t._v("Welcome to the MS Shop")])]),r("v-row",t._l(t.products,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12",md:"6",lg:"4"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v(t._s(e.name))]),r("v-card-subtitle",[r("v-container",[r("v-row",[r("p",{staticClass:"title"},[t._v("$"+t._s(e.price))]),r("v-spacer"),r("div",[e.quantity>0?r("p",{staticClass:"success--text"},[t._v(t._s(e.quantity)+" left")]):r("p",{staticClass:"error--text"},[t._v("Out of Stock")])])],1)],1)],1),r("v-card-text",{staticClass:"mt-n6"},[t._v(t._s(e.description))]),r("v-card-actions",[t.user?r("v-btn",{attrs:{block:"",color:"primary",text:"",disabled:0==e.quantity},on:{click:function(r){return t.addToCart(e)}}},[t._v("Add to Cart")]):r("v-btn",{attrs:{block:"",color:"primary",text:"",disabled:0==e.quantity,to:"/login"}},[t._v("Please Login to Buy")])],1)],1)],1)})),1)],1)},T=[],E=r("0ff2"),U=r("59ca"),M=r.n(U),B=(r("1247"),r("e71f"),r("2398"));n["a"].use(E["a"]);var D={apiKey:"AIzaSyDSmwkaS1GBwCKpBFDjb0vaD0GWM-MGf3o",authDomain:"msshop-14643.firebaseapp.com",databaseURL:"https://msshop-14643.firebaseio.com",projectId:"msshop-14643",storageBucket:"msshop-14643.appspot.com",messagingSenderId:"122694860289",appId:"1:122694860289:web:27e8034cfe6e8393a6ca00"};M.a.initializeApp(D);var N=new B["a"].AuthUI(M.a.auth());n["a"].prototype.$firebase=M.a,n["a"].prototype.$firebaseui=N;var F=M.a.firestore(),H={name:"Home",data:function(){return{products:[]}},computed:Object(u["a"])({},Object(l["c"])({user:"getUser"})),mounted:function(){this.bind()},methods:{bind:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$bind("products",F.collection("products").where("showCatalog","==",!0));case 2:case"end":return e.stop()}}),e)})))()}}},G=H,W=r("b0af"),z=r("99d9"),J=r("62ad"),K=r("a523"),Q=r("0fd9"),X=Object(p["a"])(G,A,T,!1,null,null,null),Y=X.exports;f()(X,{VBtn:g["a"],VCard:W["a"],VCardActions:z["a"],VCardSubtitle:z["b"],VCardText:z["c"],VCardTitle:z["d"],VCol:J["a"],VContainer:K["a"],VRow:Q["a"],VSpacer:C["a"]});var Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mt-8",attrs:{id:"firebaseui-auth-container"}})},tt=[],et={name:"Login",mounted:function(){var t=this,e={callbacks:{signInSuccessWithAuthResult:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("setUser",r.user),t.$router.push("/"),e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e)})));function r(t){return e.apply(this,arguments)}return r}()},signInOptions:[this.$firebase.auth.GoogleAuthProvider.PROVIDER_ID,this.$firebase.auth.EmailAuthProvider.PROVIDER_ID]};this.$firebaseui.start("#firebaseui-auth-container",e)}},rt=et,nt=Object(p["a"])(rt,Z,tt,!1,null,null,null),at=nt.exports,it=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h1",{staticClass:"mb-4"},[t._v("My Orders")]),r("v-expansion-panels",t._l(t.orders,(function(e){return r("v-expansion-panel",{key:e.id},[r("v-expansion-panel-header",[r("v-row",[r("v-col",{attrs:{cols:"8"}},[t._v(" Order # "+t._s(e.id))]),r("v-col",{attrs:{cols:"$"}},[t._v(" $"+t._s(e.order.total)+" ")])],1)],1),r("v-expansion-panel-content",[r("v-list",t._l(e.order.items,(function(e){return r("v-list-item",{key:e.id},[r("v-list-item-content",[r("v-list-item-title",[t._v(" "+t._s(e.name))])],1),r("v-list-item-content",[r("v-list-item-subtitle",[t._v("$ "+t._s(e.price))])],1),r("v-list-item-content",[r("v-list-item-subtitle",[t._v(t._s(e.quantity))])],1),r("v-list-item-action",[r("v-list-item-subtitle",[t._v("$ "+t._s((e.quantity*e.price).toFixed(2)))])],1)],1)})),1)],1)],1)})),1)],1)],1)],1)},st=[],ot={name:"MyOrders",data:function(){return{orders:[]}},computed:Object(u["a"])({},Object(l["c"])({user:"hetUser"})),mounted:function(){this.bind()},methods:{bind:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$bind("orders",F.collection("orders").where("user","==",t.user.uid));case 2:case"end":return e.stop()}}),e)})))()}}},ct=ot,ut=r("cd55"),lt=r("49e2"),dt=r("c865"),vt=r("0393"),pt=r("1800"),mt=Object(p["a"])(ct,it,st,!1,null,null,null),ft=mt.exports;f()(mt,{VCol:J["a"],VContainer:K["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:lt["a"],VExpansionPanelHeader:dt["a"],VExpansionPanels:vt["a"],VList:w["a"],VListItem:_["a"],VListItemAction:pt["a"],VListItemContent:V["b"],VListItemSubtitle:V["c"],VListItemTitle:V["d"],VRow:Q["a"]});var bt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h1",{staticClass:"mb-4"},[t._v("MS Shopping Cart")]),r("v-card",[r("v-card-text",[r("v-list",t._l(t.cart.items,(function(e){return r("v-list-item",{key:e.id},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))])],1),r("v-list-item-content",[r("v-list-item-subtitle",[t._v("$ "+t._s(e.price))])],1),r("v-list-item-content",[r("v-text-field",{attrs:{type:"number",value:e.quantity},on:{change:function(r){return t.change(r,e.id)}}})],1),r("v-list-item-action",[r("v-list-item-subtitle",[t._v("$ "+t._s((e.quantity*e.price).toFixed(2)))])],1)],1)})),1),r("v-list",[r("v-spacer"),r("v-list-item-action",[t.calculating?r("v-list-item-action-text",{staticClass:"title"},[t._v("Calculating... ")]):r("v-list-item-action-text",{staticClass:"title"},[t._v(" $ "+t._s(t.cart.total)+" ")])],1)],1),r("v-col",[r("v-card",[r("v-card-text",[r("v-row",[r("v-spacer"),r("v-btn",{attrs:{color:"blue lighter-3",text:"",to:"/"}},[t._v("Continue Shopping")]),r("v-btn",{attrs:{color:"green darken-1"},on:{click:t.createOrder}},[t._v("checkout Order"),r("v-btn")],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},ht=[],gt=(r("d81d"),{name:"Cart",data:function(){return{cart:{},calculating:!1}},computed:Object(u["a"])({},Object(l["c"])({user:"getUser"})),mounted:function(){this.bind()},methods:{bind:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$bind("cart",F.collection("cart").doc(t.user.uid));case 2:case"end":return e.stop()}}),e)})))()},change:function(t,e){var r=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.calculating=!0,a=r.cart,a.items.map((function(r){return r.id==e?r.quantity=t:null})),n.next=5,F.collection("cart").doc(r.user.uid).set(a);case 5:case"end":return n.stop()}}),n)})))()},createOrder:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.collection("orders").add({user:t.user.uid,order:t.cart});case 2:return e.next=4,F.collection("cart").doc(t.user.uid).set({items:[],total:0});case 4:t.$router.push("/");case 5:case"end":return e.stop()}}),e)})))()}}}),xt=gt,wt=r("8654"),_t=Object(p["a"])(xt,bt,ht,!1,null,null,null),Vt=_t.exports;f()(_t,{VBtn:g["a"],VCard:W["a"],VCardText:z["c"],VCol:J["a"],VContainer:K["a"],VList:w["a"],VListItem:_["a"],VListItemAction:pt["a"],VListItemActionText:V["a"],VListItemContent:V["b"],VListItemSubtitle:V["c"],VListItemTitle:V["d"],VRow:Q["a"],VSpacer:C["a"],VTextField:wt["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",{attrs:{justify:"center"}},[r("v-btn",{attrs:{color:"success darken-1"},on:{click:function(e){e.stopPropagation(),t.adding=!0}}},[t._v("Add New Product")]),r("v-dialog",{attrs:{"max-width":"480"},model:{value:t.adding,callback:function(e){t.adding=e},expression:"adding"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Add New Product")]),r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{label:"Name"},model:{value:t.newProduct.name,callback:function(e){t.$set(t.newProduct,"name",e)},expression:"newProduct.name"}}),r("v-textarea",{attrs:{label:"Description"},model:{value:t.newProduct.description,callback:function(e){t.$set(t.newProduct,"description",e)},expression:"newProduct.description"}}),r("v-text-field",{attrs:{label:"Qty"},model:{value:t.newProduct.quantity,callback:function(e){t.$set(t.newProduct,"quantity",e)},expression:"newProduct.quantity"}}),r("v-text-field",{attrs:{label:"Price"},model:{value:t.newProduct.price,callback:function(e){t.$set(t.newProduct,"price",e)},expression:"newProduct.price"}}),r("v-checkbox",{attrs:{label:"Show in Catalog"},model:{value:t.newProduct.showCatalog,callback:function(e){t.$set(t.newProduct,"showCatalog",e)},expression:"newProduct.showCatalog"}})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{text:"",color:"orange darken-1"},on:{click:t.clear}},[t._v("Cancel")]),r("v-btn",{attrs:{text:"",color:"green darken-1"},on:{click:t.add}},[t._v("Add")])],1)],1)],1)],1),r("v-row",{staticClass:"mt-8",attrs:{justify:"center"}},[r("h1",{staticClass:"mb-4"},[t._v("All Products")]),r("v-col",{attrs:{cols:"12"}},[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.productsHeaders,items:t.products}})],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("h1",{staticClass:"mb-4"},[t._v("All Orders")]),r("v-expansion-panels",t._l(t.orders,(function(e){return r("v-expansion-panel",{key:e.id},[r("v-expansion-panel-header",[r("v-row",[r("v-col",{attrs:{cols:"8"}},[t._v(" Order # "+t._s(e.id))]),r("v-col",{attrs:{cols:"$"}},[t._v(" $"+t._s(e.order.total)+" ")])],1)],1),r("v-expansion-panel-content",[r("v-list",t._l(e.order.items,(function(e){return r("v-list-item",{key:e.id},[r("v-list-item-content",[r("v-list-item-title",[t._v(" "+t._s(e.name))])],1),r("v-list-item-content",[r("v-list-item-subtitle",[t._v("$ "+t._s(e.price))])],1),r("v-list-item-content",[r("v-list-item-subtitle",[t._v(t._s(e.quantity))])],1),r("v-list-item-action",[r("v-list-item-subtitle",[t._v("$ "+t._s((e.quantity*e.price).toFixed(2)))])],1)],1)})),1)],1)],1)})),1)],1)],1)],1)},Ct=[],Ot={name:"Inventory",data:function(){return{adding:!1,newProduct:{name:"",description:"",quantity:0,price:0,showCatalog:!1},productsHeaders:[{text:"Name",value:"name"},{text:"Description",value:"description"},{text:"Qty",value:"quantity"},{text:"Price",value:"price"},{text:"Show",value:"showCatalog"}],products:[],orders:[]}},created:function(){this.bind()},methods:{clear:function(){this.newProduct={name:"",description:"",quantity:0,price:0,showCatalog:!1},this.adding=!1},add:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F.collection("products").add(t.newProduct);case 2:t.clear();case 3:case"end":return e.stop()}}),e)})))()},bind:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$bind("products",F.collection("products"));case 2:return e.next=4,t.$bind("orders",F.collection("orders"));case 4:case"end":return e.stop()}}),e)})))()}}},kt=Ot,Pt=r("ac7c"),jt=r("8fea"),$t=r("169a"),Rt=r("4bd4"),It=r("a844"),St=Object(p["a"])(kt,yt,Ct,!1,null,null,null),Lt=St.exports;f()(St,{VBtn:g["a"],VCard:W["a"],VCardActions:z["a"],VCardText:z["c"],VCardTitle:z["d"],VCheckbox:Pt["a"],VCol:J["a"],VContainer:K["a"],VDataTable:jt["a"],VDialog:$t["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:lt["a"],VExpansionPanelHeader:dt["a"],VExpansionPanels:vt["a"],VForm:Rt["a"],VList:w["a"],VListItem:_["a"],VListItemAction:pt["a"],VListItemContent:V["b"],VListItemSubtitle:V["c"],VListItemTitle:V["d"],VRow:Q["a"],VSpacer:C["a"],VTextField:wt["a"],VTextarea:It["a"]});var qt=r("0e44");n["a"].use(l["a"]);var At=new l["a"].Store({state:{user:""},getters:{getUser:function(t){return t.user}},mutations:{settingUser:function(t,e){return t.user=e}},actions:{setUser:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,r){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,!r){t.next=14;break}return a={displayName:r.displayName,email:r.email,roles:{user:!0},lastAccess:new Date},i=F.collection("users").doc(r.uid),t.next=6,i.set(a,{merge:!0});case 6:return t.next=8,i.get();case 8:return s=t.sent,n("settingUser",Object(u["a"])({uid:r.uid},s.data())),t.next=12,F.collection("cart").doc(r.uid).set({items:[],total:0});case 12:t.next=15;break;case 14:n("settingUser","");case 15:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},plugins:[Object(qt["a"])()]}),Tt=At;n["a"].use(q["a"]);var Et=[{path:"/",name:"Home",component:Y},{path:"/login",name:"Login",component:at},{path:"/myorders",name:"MyOrders",component:ft,meta:{requiresRole:"user"}},{path:"/cart",name:"Cart",component:Vt,meta:{requiresRole:"user"}},{path:"/inventory",name:"Inventory",component:Lt,meta:{requiresRole:"admin"}}],Ut=new q["a"]({mode:"history",base:"/",routes:Et});Ut.beforeEach((function(t,e,r){t.matched.some((function(t){return t.meta.requiresRole}))?Tt.getters.getUser.roles&&Tt.getters.getUser.roles[t.meta.requiresRole]?r():r("/login"):r()}));var Mt=Ut,Bt=r("f309");n["a"].use(Bt["a"]);var Dt=new Bt["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:Mt,store:Tt,vuetify:Dt,render:function(t){return t(L)}}).$mount("#app")}});
//# sourceMappingURL=app.fd5986c8.js.map